---
date: 2023-05-19
title: Cannot find module or its corresponding type declarations
subtitle: GitHub Actions runner í™˜ê²½ì—ì„œë§Œ íƒ€ì… ì„ ì–¸ì„ ì°¾ì§€ ëª»í•˜ëŠ” ë¬¸ì œ
category: til
tags: ['yarn', 'ë¬¸ì œí•´ê²°']
slug: /230519
---

# ë¬¸ì œ

í¬íŠ¸í´ë¦¬ì˜¤ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•˜ëŠ”ë° GitHub Actionsì—ì„œ ë¹Œë“œì‹œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì˜ íƒ€ì… ì„ ì–¸ì„ ì°¾ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìƒê²¼ë‹¤. ë¡œì»¬ì—ì„œëŠ” íƒ€ì… ì„ ì–¸ì„ ì˜ ì°¾ê³  ì •ìƒì ìœ¼ë¡œ ë¹Œë“œê°€ ë˜ëŠ”ë° GitHub Actions runner í™˜ê²½ì—ì„œë§Œ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.

```md
src/main.ts(1,22) TS2307: Cannot find module 'gsap' or its corresponding type declarations.
src/main.ts(2,31) TS2307: Cannot find module 'gsap/ScrollTrigger' or its corresponding type declarations.
src/main.ts(3,23) TS2307: Cannot find module 'split-type' or its corresponding type declarations.
src/main.ts(4,24) TS2307: Cannot find module 'three' or its corresponding type declarations.
src/main.ts(5,31) TS2307: Cannot find module 'three/examples/jsm/controls/OrbitControls.js' or its corresponding type declarations.
```

# ë””ë²„ê¹…

ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì–´ë–¤ ê³¼ì •ì„ ê±°ì³ ëª¨ë“ˆì˜ íƒ€ì… ì„ ì–¸ì„ ì°¾ëŠ”ì§€ ì´í•´í•  í•„ìš”ê°€ ìˆì—ˆë‹¤.

## ğŸ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë“ˆ íƒìƒ‰ (Module Resolution)

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ [Module Resolution](https://www.typescriptlang.org/docs/handbook/module-resolution.html)(ëª¨ë“ˆ í•´ì„)ì€ ì»´íŒŒì¼ëŸ¬ê°€ ê°ê°ì˜ importê°€ ì–´ë–¤ ëª¨ë“ˆì„ ê°€ë¦¬í‚¤ëŠ”ì§€ í•´ì„í•˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `import { a } from "moduleA";`ì™€ ê°™ì€ import êµ¬ë¬¸ì´ ìˆì„ë•Œ, ì»´íŒŒì¼ëŸ¬ëŠ” `moduleA`ì˜ íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ íƒìƒ‰í•˜ê³  í•´ë‹¹ íŒŒì¼ì— ì‘ì„±ëœ íƒ€ì… ì„ ì–¸ì„ ì°¸ì¡°í•´ì„œ `a`ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ ê²€ì¦í•œë‹¤. ì—¬ê¸°ì„œ 'íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ íƒìƒ‰í•˜ëŠ” ê³¼ì •'ì´ ë°”ë¡œ Module Resolutionì´ê³ , ì§ì—­í•˜ë©´ 'ëª¨ë“ˆ í•´ì„'ì¸ ê²ƒì´ë‹¤.

ì´ íƒìƒ‰ ê³¼ì •ì€ tsconfig.jsonì˜ [moduleResolution](https://www.typescriptlang.org/tsconfig#moduleResolution) ì˜µì…˜ìœ¼ë¡œ ì„¤ì •í•œ ì „ëµ([node](https://www.typescriptlang.org/docs/handbook/module-resolution.html#node), [classic](https://www.typescriptlang.org/docs/handbook/module-resolution.html#classic) ë“±)ì„ ë”°ë¥´ë©°, ê·¸ ì•ˆì—ì„œë„ ëª¨ë“ˆì´ ìƒëŒ€ê²½ë¡œ(Relative)ë¡œ import ëëŠ”ì§€, ë¹„-ìƒëŒ€ê²½ë¡œ(Non-Relative)ë¡œ import ëëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ìˆ˜í–‰ëœë‹¤. (ì „ëµë³„ ìì„¸í•œ ëª¨ë“ˆ íƒìƒ‰ ê³¼ì •ì€ [ë¬¸ì„œ](https://www.typescriptlang.org/docs/handbook/module-resolution.html#module-resolution-strategies)ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë‹¤.)

```ts
import Entry from '../Entry' // Relative import
import Entry from 'entry' // Non-relative import
```

ë‚˜ì˜ ê²½ìš° Viteì˜ vanilla-ts í…œí”Œë¦¿ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìŠ¤ìºí´ë”© í•˜ë©´ì„œ moduleResolution ì˜µì…˜ì´ **bundler**ë¡œ ì„¤ì •ëœ ìƒíƒœì˜€ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ v5ì— ë„ì…ëœ ì „ëµì´ë¼ ê·¸ëŸ°ì§€ í•´ë‹¹ ì „ëµì´ ì–´ë–¤ ì‹ìœ¼ë¡œ ëª¨ë“ˆì„ íƒìƒ‰í•´ ë‚˜ê°€ëŠ”ì§€ ëª…í™•í•˜ê²Œ ì •ë¦¬ëœ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ì—ˆë‹¤. ë¬¸ì„œê°€ ì—†ë‹¤ë©´ ì§ì ‘ í™•ì¸í•´ ë³´ëŠ” ìˆ˜ë°–ì—.

[traceResolution](https://www.typescriptlang.org/tsconfig#traceResolution) ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ì»´íŒŒì¼ëŸ¬ê°€ ê° ëª¨ë“ˆì˜ íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì„ ì¶”ì í•´ ë³´ì•˜ë‹¤.

```md
======== Resolving module 'three' from '/Users/runner/work/portfolio-2023/portfolio-2023/src/ProfileCard.ts'. ========
Explicitly specified module resolution kind: 'Bundler'.
Resolving in CJS mode with conditions 'import', 'types'.
File '/Users/runner/work/portfolio-2023/portfolio-2023/src/package.json' does not exist.
Found 'package.json' at '/Users/runner/work/portfolio-2023/portfolio-2023/package.json'.
Loading module 'three' from 'node_modules' folder, target file types: TypeScript, JavaScript, Declaration, JSON.
Directory '/Users/runner/work/portfolio-2023/portfolio-2023/src/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/portfolio-2023/portfolio-2023/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/portfolio-2023/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/node_modules' does not exist, skipping all lookups in it.
Directory '/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/portfolio-2023/portfolio-2023/src/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/portfolio-2023/portfolio-2023/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/portfolio-2023/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/work/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/runner/node_modules' does not exist, skipping all lookups in it.
Directory '/Users/node_modules' does not exist, skipping all lookups in it.
Directory '/node_modules' does not exist, skipping all lookups in it.
======== Module name 'three' was not resolved. ========
```

package.jsonì„ ìš°ì„ ì ìœ¼ë¡œ ì°¾ê³ , ê·¸ ì´í›„ì—ëŠ” node_modulesì—ì„œ `.js`, `.ts`, `.d.ts`, `.json` í˜•ì‹ì˜ íŒŒì¼ì„ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì´ ë°˜ë³µë˜ê³  ìˆëŠ”ê±¸ ì•Œ ìˆ˜ ìˆì—ˆëŠ”ë°, **ë¬¸ì œëŠ” ìµœìƒìœ„ ê²½ë¡œê¹Œì§€ íƒ€ê³ íƒ€ê³  ì˜¬ë¼ê°€ë„ node_modules ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ”ë° ìˆì—ˆë‹¤**.

ë¹Œë“œ ì „ì— ì˜ì¡´ì„± ì„¤ì¹˜ê¹Œì§€ ì„±ê³µí•œ ìƒíƒœì˜€ëŠ”ë° node_modules ë””ë ‰í† ë¦¬ê°€ ì—†ë‹¤ë‹ˆ? ì´ê²Œ ë¬´ìŠ¨ ì¼ì¸ê°€.

## ğŸ”— Yarn Berryì˜ nodeLinker ì˜µì…˜

**ì›ì¸ì€ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” .yarnrc.ymlì— nodeLinker ì˜µì…˜ì„ node-modulesë¡œ ì„¤ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ì—ˆë‹¤**.

ë¡œì»¬ì—ì„œëŠ” ì´ ì„¤ì • ì—†ì´ë„ node_modulesê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ëëŠ”ë°, ì–´ë–»ê²Œ ê°€ëŠ¥í–ˆë˜ ê±¸ê¹Œ?

ì‚¬ìš© ì¤‘ì¸ yarnì˜ ë²„ì „ì€ v3.3.1 Yarn Berryì˜€ë‹¤. **Yarn BerryëŠ” ì„¤ì • íŒŒì¼ì„ ì°¸ì¡°í•  ë•Œ ì‹¤í–‰ ê²½ë¡œì˜ ìƒìœ„ì— ìˆëŠ” ë¶€ëª¨ ë””ë ‰í† ë¦¬ë“¤ì—ì„œ .yarnrc.yml íŒŒì¼ì„ íƒìƒ‰í•˜ì—¬ ì°¸ì¡°í•œë‹¤**. ([ë§í¬](https://yarnpkg.com/configuration/yarnrc))

ë‚˜ì˜ ê²½ìš°ì—ëŠ” í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒìœ„ì— ìˆëŠ” `/Users/[ì‚¬ìš©ìëª…]`ì— .yarnrc.ymlì´ ìˆì—ˆê³  ì—¬ê¸°ì— `nodeLinker: node-modules` ì„¤ì •ì´ ìˆì—ˆë‹¤. (ëª‡ ë‹¬ ì „ Yarn v1ì—ì„œ Yarn Berryë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ” ê³¼ì •ì—ì„œ ìë™ìœ¼ë¡œ ì¶”ê°€ëœ ê±´ì§€, ë‚´ê°€ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•œ ê±´ì§€ëŠ” ê¸°ì–µì´ ë‚˜ì§€ ì•ŠëŠ”ë‹¤..) ì–´ì¨Œë“  ë¶€ëª¨ ë””ë ‰í† ë¦¬ì— ìˆë˜ ì´ ì„¤ì • ë•Œë¬¸ì— í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” .yarnrc.ymlì—ëŠ” í•´ë‹¹ ì„¤ì •ì´ ì—†ì–´ë„ node_modulesê°€ ìƒì„±ëœ ê²ƒì´ì—ˆë‹¤.

ë°˜ë©´ì— GitHub Actions runner í™˜ê²½ì—ì„œëŠ” ë¶€ëª¨ ë””ë ‰í† ë¦¬ë“¤ì„ ì•„ë¬´ë¦¬ íƒìƒ‰í•´ë„ .yarnrc.ymlì´ ì—†ìœ¼ë‹ˆ, í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” .yarnrc.ymlë§Œ ì°¸ì¡°í• í…Œê³ , ì—¬ê¸°ì—ëŠ” nodeLinker ì˜µì…˜ì„ ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ì„œ ê¸°ë³¸ê°’ì¸ pnpê°€ ì ìš©ëœì±„ë¡œ ì˜ì¡´ì„±ì´ ì„¤ì¹˜ëœ ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” node*modulesë¥¼ ì• íƒ€ê²Œ ì°¾ë‹¤ê°€ ê²°êµ­ì—” ì‹¤íŒ¨í•˜ê³  \_error TS2307: Cannot find module or its corresponding type declarations.* ì—ëŸ¬ë¥¼ ë±‰ì„ ìˆ˜ë°–ì— ì—†ì—ˆë‹¤ëŠ” ê²Œ ì‚¬ê±´ì˜ ì „ë§ì´ì—ˆë‹¤.

ì´ë²ˆ ë¬¸ì œëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” .yarnrc.ymlì— `nodeLinker: node-modules` ì„¤ì •ì„ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ í•œí¸ìœ¼ë¡œëŠ” ì´ ë¬¸ì œì˜ ê·¼ë³¸ì ì¸ ì›ì¸ì´ Yarn Berryì˜ ì„¤ì • íŒŒì¼ ì°¸ì¡° ë°©ì‹ì„ ì œëŒ€ë¡œ ì•Œê³  ì“°ì§€ ì•Šì€ ë‚˜ì˜ ë¶ˆì°°ì´ë¼ëŠ” ìƒê°ì´ ë“¤ì–´ ì ê¹ ë°˜ì„±ì˜ ì‹œê°„ì„ ê°€ì¡Œë‹¤. ì“¸ ê±°ë©´ ì œëŒ€ë¡œ ì•Œê³  ì“°ì.
